--- 
title: "CookBook Ferramentas Estatísticas em R"  
author: "LAC-FMB"
date: "16/10/20"
site: bookdown::bookdown_site
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: apalike
link-citations: yes
description: "Cookbook em R sobre procedimentos estatísticos para análise quantitativa de dados para saúde baseada em evidências"
---

# Cookbook  

Coleção de referência com procedimentos estatísticos frequentemente usados.  

<!--chapter:end:index.Rmd-->

# 1.Análise exploratória de dados
# BANCO DE DADOS: LBW
##   1.1.Fundamentos teóricos

### Dispersão estatística
É forma de caracterizar um conjunto de dados quanto ao seu comportamento aleatório de dispersão de valores. Existem vários modelos de caracterizar o quão disperso um conjunto de dados está, incluindo desvio padrão, coeficiente de variação, coeficiente de dispersão quartil, entre outros.

### Medidas de tendência central
As medidas de tendência central se referem a formas de definir um valor central dentro de uma distribuição probabilística, elas podem ser uma média, mediana ou moda. A média é a forma mais utilizada, ela consiste em um ponto da distribuição probabilística que é igualmente próximo a todos os demais pontos dentro de uma curva probabilística.

### Distribuição probabilística normal
A distribuição probabilística normal, também conhecida como distribuição de gaussiana, é apenas uma das distribuições matemáticas de probabilidade. É caracterizada por ser parametrizada, possuir dados contínuos, concentração dos valores em torno da média, um desvio padrão (que caracteriza a distância média dos dados à média), simetria em torno do valor central e baixa frequência de valores extremos.

### Teorema do limite central
Postulado inicialmente pelo matemático francês Abraham de Moivre, o teorema conclui que uma série de dados que não possui comportamento semelhantes à uma distribuição probabilística normal, quando adicionados mais dados referente ao mesmo evento, sua curva de distribuição probabilística irá tender a assemelhar-se com uma distribuição normal.

### Gramática de dados
Após fase de coleta, é possível que a grande quantidade de dados não permita uma visualização clara dos eventos e desfechos avaliados, até por que muitos podem estar em forma de caracteres numéricos ou valores lógicos TRUE/FALSE ou YES/NO. Para isso, os recursos gráficos facilitam a interpretação dos dados. É muito comum que esses dados sejam representados em gráficos.

<!--chapter:end:02-resumos.Rmd-->

### 1.2.3.Pool de funções
#### 1.2.3.1.Média
##### 1.2.3.1.1.Média simples
      Função: 
``` {r,eval=F}
mean(x, na.rm = T/F)
```
x é a variável de entrada
na.rm é utilizado para remover entradas com valores faltando.
    
##### 1.2.3.1.2.Média entre variáveis
Função: 
``` {r,eval=F}
tapply(x, index, mean)
```
x é a variável a ser tirada a média.
index é a variável de categorização.
mean é a função de média.

#### 1.2.3.2.Mediana
##### 1.2.3.2.1.Mediana simples
Função: 
``` {r,eval=F}
median(x, na.rm = T/F)
```
x é a variável de entrada.
na.rm é utilizado para remover entradas com valores faltando.
    
##### 1.2.3.2.2.Mediana entre variáveis
Função: 
``` {r,eval=F}
tapply(x, index, median)
```
x é a variável a ser tirada a mediana.
index é a variável de categorização.
mean é a função de mediana.
    
#### 1.2.3.3.Moda
##### 1.2.3.3.1.Moda simples
No R puro não existe a função moda, então uma opção é criar uma função que avalie os valores, e identifique o de maior ocorrência.
Função:
``` {r,eval=F}
y <- BD$age
moda <- function(y, na.rm = T/F) {
  if(na.rm){
    y = y[!is.na(y)] 
    }
  uy <- unique(y)
  tab <- tabulate(match(y, uy))
  uy[tab == max(tab)]
}
moda(y)
```
x é a variável de entrada
na.rm é utilizado para remover entradas com valores faltando.
Outra opção é instalar bibliotecas que contenham ferramentas semelhantes.A modeest é uma opção. Vamos instalá-la e carregá-la:
``` {r,eval=F}
install.packages("modeest", dependencies = T)
library(modeest)
```
Pronto, agora vamos descobrir a moda novamente:
Função: 
``` {r,eval=F}
mfv(x)
```
x é a variável de entrada
        
#####    #3.3.2.Moda entre variáveis
Função: 
``` {r,eval=F}
tapply(x, index, mfv(x))
```
x é a variável a ser tirada a moda.
index é a variável de categorização.
mean é a função de moda, podendo ser tanto a "moda" quanto a "mfv".

<!--chapter:end:03-descritivas.Rmd-->

### 1.2.4.Gráficos
#### 1.2.4.1.Correlação
##### 1.2.4.1.1.Preditores contínuos
Função: 
``` {r,eval=F}
scatter.smooth(x,y,main="",xlab="",ylab="")
```
x é o preditor 1, na abscissa
y é o preditor 2, na ordenada
main é o título do gráfico
xlab é o título da abscissa
ylab é o título da ordenada

##### 1.2.4.1.2.Preditores categóricos    
Função: 
``` {r,eval=F}
boxplot(y ~ x, data = k, main="Title", xlab="x Title", ylab="y Title")
```
x é o preditor 1, na abscissa
y é o preditor 2, na ordenada
main é o título do gráfico

xlab é o título da abscissa

ylab é o título da ordenada

OBS: é possível identificar no boxplot os limites, outliers, terceiro, segundo (mediana) e primeiro quartis.
  
#### 1.2.4.2.Histogramas
Função:  
``` {r}
BD <- readxl::read_excel("data/lbw.xlsx") # Requer lib reaxl
hist(BD$age, main = "Title", xlab = "Title", ylab = "Title", prob = T)
rug(jitter(BD$age))#;lines( density(x),col="red" )
```
x é a variável de interesse
main é o título do gráfico
xlab é o título da abscissa (Variável)

ylab é o título da ordenada (Frequência)

Breaks são pontos de divisão de cada coluna, na abscissa

rug/jitter mostra a distribuição fina de frequência, na abscissa

### 1.2.5.Exercícios
#### 1.2.5.1.Qual a idade materna média no grupo de fumantes e não fumantes?
``` {r}
tapply(BD$`Idade materna (anos)`, BD$`Tagabismo durante a gravidez`, mean)
```
#### 1.2.5.2.Plote o gráfico da distribuição das idades maternas analisadas
``` {r}
hist(BD$`Idade materna (anos)`, main = "Title", xlab = "Title", ylab = "Title", prob = T)
rug(jitter(BD$`Idade materna (anos)`));lines( density(BD$`Idade materna (anos)`),col="red" )
```
#### 1.2.5.3.Qual a mediana do peso materno entre as raças?
``` {r}
tapply(BD$`Peso materno no último ciclo mestrual (kg)`, BD$Raça, median)
```
#### 1.2.5.4.Qual a moda da idade materna entre os grupos com e sem hipertensão?
``` {r}
library(modeest)
tapply(BD$`Idade materna (anos)`, BD$`Hipertensão materna`, mfv)
```
#### 1.2.5.5.Plote o gráfico da correlação entre o peso materno e o peso ao nascer
``` {r}
scatter.smooth(BD$`Peso materno no último ciclo mestrual (kg)`,BD$`Peso ao nascer (g)`,main="",xlab="",ylab="")
```

<!--chapter:end:04-plots.Rmd-->

# Final Words

We have finished a nice book.

<!--chapter:end:05-summary.Rmd-->

`r if (knitr::is_html_output()) '
# References {-}
'`

<!--chapter:end:06-references.Rmd-->

